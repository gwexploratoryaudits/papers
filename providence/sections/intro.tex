%Intro
It is well-known that electronic voting systems are vulnerable to software errors and manipulation which may be undetected. Errors and/or manipulation may not always change an election outcome, but we would want to know when they do. {\em Software independent} voting systems \cite{SI-Wack,rivest2008notion} are ones where an undetected change in the software cannot lead to an undetectable change in the election outcome. {\em Evidence-based elections} \cite{evidence-based} use software independent systems to produce trustworthy evidence of outcome correctness; the evidence is examined so that incorrect outcomes may be detected with high probability. One approach to evidence-based elections is to use voter-verified paper ballots, store them securely, and perform public audits---a compliance audit to determine whether the ballots were stored securely; and a rigorous tabulation audit, known as a risk-limiting audit (RLA) \cite{RLA}, to determine whether the outcome is correctly computed from the stored ballots. To have any value, the audits should be performed before the election is certified. 

A tabulation audit will either end with a declaration that an election outcome is correct, or escalate to a full hand count. The integrity of an audit may be judged by how it deals with incorrect outcomes. A {\em risk-limiting audit (RLA)} guarantees a minimum probability that it will perform as it is supposed to (escalate to a full hand count) if the outcome is incorrect. Equivalently, this is also a guarantee limiting the probability of audit error when the outcome is incorrect. The {\em risk limit} of an RLA is the (guaranteed) maximum probability that an incorrect election outcome would be declared correct (and not proceed to a full hand count). Lower risk limits are better. 

Many US states have had pilot RLA programs. Additionally, some states allow RLAs to be used towards audit requirements, and some states require RLAs before elections can be certified. 

%We propose the \Providence audit, a new approach to a particular type of RLA---the ballot polling RLA described below---and propose a new model for the work load of an election. We show that \Providence is superior to the popular ballot polling RLA \Bravo for real elections, and describe the use of our open source implementation by the Rhode Island Board of Elections for an audit of their 2021 elections. \Providence was recently integrated as an option in Arlo \cite{arlo}, the most popular election audit software. %Our open-source implementations of \Providence and our audit planning tools are likely to be useful later this year; ballot polling audits are expected to be used as pre-certification RLAs in at least one statewide contest in both Georgia and Pennsylvania for the 2022 general elections in the US.   

\subsection{Background on RLAs}
All RLAs sample one or more ballots at random; we will refer to each such set of ballots as a {\em round}. The ballots are manually examined, and a stopping condition computed, which determines whether (a) the audit ends in success (the election outcome is declared correct) or (b) another round should be drawn (more information is needed before a determination). In principle, the stopping condition could indicate a third option too: (c) the audit proceeds to a full manual hand count, which is generally not incorporated \cite{bravo}. A manual hand count presents significant logistical challenges, and there is always a chance that it will have been unnecessary. Election officials would typically decide to perform a full manual hand count if the audit does not stop in spite of drawing a large number of ballots, typically over multiple rounds. They would be influenced by the certification deadline, the estimated number of human hours required for another round, the logistical costs of a full hand count, and the impact of any decision on citizen confidence. 

There are three types of RLAs: ballot comparison RLAs, batch comparison RLAs and ballot polling RLAs. This paper focuses on ballot polling RLAs which have been used in a number of US state pilots (California, Georgia, Indiana, Michigan, Ohio, Pennsylvania, Virginia and elsewhere) and in real statewide audits (Georgia, Virgina) \cite{vv_audits} as well as in audits of smaller jurisdictions, such as Montgomery County, Ohio \cite{usenix_minerva}. Ballot and batch comparison RLAs are described in \ref{sec:related}. 

\subsection{Ballot Polling RLAs}
\label{sec:polling}
Ballot and batch comparison RLAs compare information gathered through manual examination of the sampled ballots with the corresponding information claimed by the voting system. For example, the information could be the vote on a particular ballot (stored by the voting system as a CVR or Cast Vote Record) or the tally of a particular box of ballots. A ballot polling RLA \cite{RLA}, on the other hand, simply tallies the sampled ballots. It requires a much larger number of ballots than a ballot comparison RLA, but tends to be more feasible because it does not require any additional functionality of the voting system; in particular it does not require the system to generate or provide CVRs. What is needed is a complete ballot manifest (a list of ballot storage containers and the number of ballots in each) which enables the creation of a well defined list of the ballots and their locations (the fifth ballot in box number 20, for example).  

Ballot polling audits proceed as follows. 
\begin{enumerate}
\item A first round \cite{usenix_minerva} size---the number of ballots sampled before first checking the stopping condition---is chosen. 
\item Ballots on the ballot manifest are sampled uniformly at random using a pseudorandom number generator typically seeded by a natural source of randomness like rolling dice.
\item The physical ballots are found and manually interpreted, recording the manual interpretations. 
\item Based on the manual interpretations, the stopping condition is computed. 
\item If more ballots are to be drawn, the next round size is chosen, and we go back to step 2. 
\end{enumerate} 

Round sizes, including the first one, may be computed based on a desired probability of audit completion at the end of the round, and may take into consideration loose estimates of the resources required. For RLAs required by statute or law, certification deadlines would play a large role, as the audit would need to be completed before the deadline. 

A {\em round-by-round (R2)} audit is the general audit, where the decision of whether to draw more ballots or not is taken after drawing a round of ballots. A {\em ballot-by-ballot (B2)} audit is the special case of round size one---when the decision is made after each ballot is drawn. The popular \BRAVO audit requires the smallest expected number of ballots when the announced tally of the election is correct, and stopping decisions are taken a ballot at a time (that is, when it is used as a B2 audit). 

Election officials typically draw ballots in large round sizes, see for example \cite{va-2022,RI-report}. Note also that, in addition to allowing users to directly enter a round size or choose the expected number of ballots drawn by \BRAVO, Arlo provides choices of stopping probabilities of $0.9$, $0.8$ and $0.7$ (\cite{usenix_minerva} provides estimates of these round sizes for each state in the 2020 US Presidential election, for a $0.9$ probability of stopping; some numbers are in tens and hundreds of thousands of ballots, and thousands of ballots are quite common). Further, at both audits we attended, election officials chose stopping probabilities of $0.9$ and we are not aware of any ballot polling RLA performed on ballots cast in a governmental election that drew ballots one at a time (though the stopping condition can be computed one ballot at a time, the ballots are drawn in rounds). \BRAVO hence cannot be used as a B2 audit in these scenarios. 

For use as an R2 audit, the \BRAVO stopping condition can be applied once at the end of each round (End-of Round (EoR)), or retroactively after each ballot drawn if ballot order is retained (Selection-Ordered (SO)). SO \BRAVO is closer to the original B2 \BRAVO, and requires fewer ballots on average than EoR \BRAVO. But it requires the additional effort of tracking the order of ballots. 

\subsection{Adversarial Model for RLAs}
\label{sec:adv}
Detailed descriptions of best practices for post-election audits may be found in \cite{best-practices,why-and-how}. For our purposes, we will assume that the best practices are followed: the paper trail consists of hand-marked paper ballots and is secured; a public compliance audit is carried out before the RLA to ensure that the processes for securing the paper trail were followed; voter authentication and registration processes are verified, and only legitimate voters cast no more than a single vote each; the risk-limiting audit is public. We will further assume that all software used in the RLA is open source and well-defined, so its output may be reproduced and thus verified by an observer wishing to do so with their own software. 

Referring to the ballot polling audit steps described in section \ref{sec:polling} above, we further assume that a secure PRNG is used; the seed is generated uniformly at random in a public process; the process of locating ballots is publicly observable and the located ballots can be viewed by the public. Because the PRNG is well-defined, as is the stopping condition, we may assume that the stopping condition is correctly computed, because it can be checked by the public through knowledge of the seed and the drawn ballots. Thus the only variable is round size. 

We define a {\em weak adversary} as one who can choose the first and subsequent round sizes before the audit begins and a {\em strong adversary} as one who can choose any round size at any time (before, of course, that particular round begins). In particular, a strong adversary may use information about the sample drawn thus far to decide the next round size, but a weak adversary may not. 

\subsection{Open Questions}
Zag\'{o}rski {\em et al.} propose ballot polling RLA \Minerva \cite{usenix_minerva}, which does not need ballot order and relies only on sample and round tallies. They prove that it is risk-limiting when the number of relevant ballots drawn in each round is pre-determined before any ballots are examined; that is, for a weak adversary. They do not address the case of a strong adversary (such as an audit insider) who can determine the size of the next round after knowing what votes are on the ballots sampled thus far. In particular, an open question about \Minerva is whether the computation of a risk limit assuming a weak adversary applies to an attack by a strong adversary, or is the risk limit computation incorrect when the adversary is strong? Can the strong adversary increase the audit's error probability beyond its declared risk limit? Or is there no probabilistic adversarial advantage to being able to compute next round sizes after knowing the drawn sample? We do not answer this question, and to our knowledge, it remains open. 

Until \Minerva is proven to be risk-limiting to a given risk limit for the strong adversary, it may not be used in audits whose round sizes are not pre-determined. This presents a major limitation, because the stopping probability of the next round is better estimated using information of the sample drawn thus far, but this would not be allowed for \Minerva. The current implementation of \Minerva integrated as an option in Arlo uses a fixed multiplier of the current round size to compute the next round size, thus allowing the first round to be computed as desired, and fixing the next round sizes thereafter. Note that every draw may contain invalid or irrelevant ballots, and thus the true number of relevant ballots can never be predetermined. However, because this is random, and not controllable by an adversary once the size of the draw is fixed, we assume that a fixed draw size is sufficient to limit adversaries to weak ones, though this is not explicitly proven in \cite{usenix_minerva}. 

% In MINERVA, the number of ballots drawn in each round is determined before any ballots are drawn. Because invalid ballots and ballots that are inconsequential for the contest being audited would be drawn in addition to relevant ballots, the assumption used by the proof is not true in general. (We are grateful to Philip Stark for drawing our attention to this.) However, any variation in number of relevant ballots drawn for a fixed round size would be random and not chosen by an adversary; the proof showing the risk-limiting property of MINERVA could hence be extended.

Zag\'{o}rski {\em et al.}  also present first-round simulations demonstrating that \Minerva draws fewer ballots than SO \BRAVO in the first round for large first round sizes when the true tally is as announced. 
Broadrick {\em et al.} provide further simulations that show \Minerva requires fewer ballots over multiple rounds and for lower stopping probability \cite{simulations}, though the improvement from using \Minerva over either version of \BRAVO decreases with round size. 

The risk limit for B2, EoR and SO \BRAVO is fixed whether the adversary is strong or weak. This allows \BRAVO audits the flexibility of choosing smaller subsequent round sizes if the sample drawn so far is a ``good'' sample. An open question is whether a ballot polling RLA exists with the efficiency of \Minerva and this flexibility of \BRAVO.

A major limitation of our understanding of the ballot polling problem as a community is that we use the number of ballots drawn or values proportional to this number \cite{mclaughlin_thesis,bernhard-diss,RI-report} as measures of the workload of an audit. If this were a correct measure of the workload of an audit, we would want to use B2 audits (round size is one) and make decisions about stopping the audit after drawing each ballot, because this leads to the smallest expected number of ballots. As described above, election officials, on the other hand, greatly prefer drawing many ballots at once. From conversations with election officials and staff members of Verified Voting, Brennan Center and Common Cause who have been training election officials to perform RLAs, we estimate that this preference is likely due to the following. 
\begin{description}
\item Firstly, each round has an overhead workload as well, including setting up the round and communicating among the various localities involved in conducting the audit (for example, audits of statewide contests involve the drawing of ballots at county offices where the ballots are stored). 
\item Secondly, there is an overhead to finding a storage box and unsealing it. For large round sizes, multiple ballots may be drawn at once from a box, and the number of boxes retrieved is smaller than the number of ballots (storage boxes commonly contain many hundreds of ballots each). For smaller round sizes, the number of times a box is retrieved would be roughly identical to the number of ballots drawn, as it is unlikely that a single box will hold multiple ballots from the sample. 
\item Finally, in the current environment of misinformation, election officials fear a misleading audit sample (falsely indicating that the loser won), preferring to structure audits to reduce the chances of such samples, thus implicitly choosing larger round sizes. 
\end{description}
Thus the workload of an audit is not simply a linear (or affine) function of the number of ballots drawn. Relatedly, an optimal round schedule is not completely determined by the expected number of ballots drawn. It depends on other variables as well. The consideration of all these variables is necessary while planning an audit. 

\subsection{Our Contributions}
Our primary contribution is a new RLA, \Providence, which gives the efficiency of \Minerva and is also resistant to a strong adversary. The stopping condition for \Minerva does not take into account the sample obtained in previous rounds, and, in \cite{usenix_minerva}, its risk limit is estimated through weighted averages across multiple rounds, assuming that round sizes do not depend on the previous sample. We are able to derive a new stopping condition for which a far simpler proof of the risk-limiting property is possible. In particular, this proof does not require an assumption about round sizes. 

We provide the following:
\begin{enumerate}
\item Proof that \Providence is an RLA and resistant to a strong adversary.
\item Simulations of \Providence, \Minerva, SO \BRAVO, and EoR \BRAVO which show that \Providence uses number of ballots similar to those of \Minerva, both fewer than either version of \BRAVO.
\item Results and analysis from the use of \Providence in a pilot audit in Rhode Island.
\item A model of workload that includes the overhead effort of each round and the overhead effort of retrieving a storage unit of ballots; simulations that illustrate the use of this model to compare the different types of ballot polling audits and to plan an audit with minimal workload.
\item An analysis of round size as a function of the maximum acceptable probability of a misleading audit sample.
\item Open source implementation of \Providence and audit planning tools. 
%including the novel metric Probability of Misleading(name?)
\end{enumerate}

%Our results demonstrate the superiority of \Providence over the other audits. Our work may be used by election officials to plan ballot polling audits, including in Georgia and Pennsylvania in 2022. 

\subsection{Organization} 
Sections \ref{sec:model} and \ref{sec:related} provide background, describing the audit model and related work respectively. Section \ref{sec:prov} describes the \Providence audit, Section \ref{sec:sims} the simulations comparing the number of ballots drawn using various ballot polling audits and section \ref{sec:pilot} the use of \Providence in an audit carried out by the Board of Elections of Rhode Island. Section \ref{sec:workload} presents our workload model and describes its use for a ballot polling audit using details of the 2020 US Presidential election in the state of Virginia. Our conclusions, the availability of an audit implementation and acknowledgements may be found in sections \ref{sec:conc}, \ref{sec:avail} and \ref{sec:ack} respectively. 

